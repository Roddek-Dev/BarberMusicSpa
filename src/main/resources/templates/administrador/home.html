<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{administrador/template_admins.html::head}">
    <title>Dashboard | BarberMusic Admin</title>
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <div th:replace="~{administrador/template_admins.html::aside}"></div>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Sección de Productos -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h1>
                        <span class="material-icons-sharp">inventory</span>
                        Productos
                    </h1>
                    <div class="section-badge" th:text="${productos.size()}"></div>
                </div>
                
                <div class="cards-container">
                    <div class="card" th:each="producto : ${productos}">
                        <div class="card-image-container">
                            <img th:src="@{/images/{img} (img=${producto.imagen})}" 
                                 th:alt="${producto.nombreproducto}"
                                 class="card-image"
                                 onerror="this.src='/images/default-product.png'">
                        </div>
                        <div class="card-info">
                            <h5 th:text="${producto.nombreproducto}"></h5>
                            <p class="card-description" th:text="${producto.descripcion}"></p>
                            <div class="card-footer">
                                <span class="card-price" th:text="'$' + ${#numbers.formatDecimal(producto.precio, 1, 2)}"></span>
                                <span class="card-stock" th:text="${producto.cantidad} + ' unidades'"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección de Servicios -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h1>
                        <span class="material-icons-sharp">spa</span>
                        Servicios
                    </h1>
                    <div class="section-badge" th:text="${servicios.size()}"></div>
                </div>
                
                <div class="cards-container">
                    <div class="card" th:each="servicio : ${servicios}">
                        <div class="card-image-container">
                            <img th:src="@{/images/{img} (img=${servicio.imagen})}" 
                                 th:alt="${servicio.nombre}"
                                 class="card-image"
                                 onerror="this.src='/images/default-service.png'">
                        </div>
                        <div class="card-info">
                            <h5 th:text="${servicio.nombre}"></h5>
                            <p class="card-description" th:text="${servicio.descripcion}"></p>
                            <div class="card-footer">
                                <span class="card-price" th:text="'$' + ${#numbers.formatDecimal(servicio.precio, 1, 2)}"></span>
                                <span class="card-duration" th:text="${servicio.duracion} + ' min'"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Sección de Sucursales -->
            <section class="dashboard-section">
                <div class="section-header">
                    <h1>
                        <span class="material-icons-sharp">store</span>
                        Sucursales
                    </h1>
                    <div class="section-badge" th:text="${sucursales.size()}"></div>
                </div>
                
                <div class="cards-container">
                    <div class="card" th:each="sucursal : ${sucursales}">
                        <div class="card-image-container">
                            <img th:src="@{/images/{img} (img=${sucursal.imagen})}" 
                                 th:alt="${sucursal.nombre}"
                                 class="card-image"
                                 onerror="this.src='/images/default-branch.png'">
                        </div>
                        <div class="card-info">
                            <h5 th:text="${sucursal.nombre}"></h5>
                            <p class="card-description" th:text="${sucursal.direccion} + ', ' + ${sucursal.ciudad}"></p>
                            <div class="card-footer">
                                <span class="card-schedule">
                                    <span class="material-icons-sharp" style="font-size: 1rem;">schedule</span>
                                    <span th:text="${sucursal.horarios}"></span>
                                </span>
                                <a th:href="${sucursal.link_maps}" target="_blank" class="card-map">
                                    <span class="material-icons-sharp" style="font-size: 1rem;">map</span>
                                    Ver mapa
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Right Section -->
        <div th:replace="~{administrador/template_admins.html::right_section}"></div>
    </div>
    
    <div th:replace="~{administrador/template_admins.html::jsFiles}"></div>
</body>
</html>