<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{usuario/template_user.html::head}">
	<title>Carrito de Compras | BarberMusicSpa</title>
</head>
<style>
	#main {
		margin-top: 3em;
	}

	section {
		padding: 60px 0 0 0;
	}
</style>

<body class="index-page">

	<div th:insert="~{usuario/template_user.html::header}" th:if="${sesion == null}"></div>
	<div th:insert="~{usuario/template_user.html::usuarioCabecera}" th:unless="${sesion == null}"></div>

	<main id="main">
		<!-- ======= Breadcrumbs Section ======= -->
		<section class="breadcrumbs">
			<div class="container">
				<h2>Tu Carrito de Compras</h2>
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a th:href="@{/}">Inicio</a></li>
					<li class="breadcrumb-item active">Carrito</li>
				</ol>
			</div>
		</section><!-- End Breadcrumbs -->

		<!-- ======= Shopping Cart Section ======= -->
		<section class="inner-page">
			<div class="container">
				<div class="row">
					<div class="col-lg-8">
						<div class="card shadow-sm mb-4">
							<div class="card-body">
								<h3 class="card-title mb-4">Productos seleccionados</h3>

								<div class="table-responsive">
									<table class="table table-hover">
										<thead class="table-light">
											<tr>
												<th scope="col" style="width: 40%">Producto</th>
												<th scope="col" class="text-end">Precio Unitario</th>
												<th scope="col" class="text-center">Cantidad</th>
												<th scope="col" class="text-end">Acciones</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="dorden:${cart}">
												<td class="align-middle fw-semibold" th:text="${dorden.nombre}"></td>
												<td class="align-middle text-end"
													th:text="${#strings.concat('$', #numbers.formatDecimal(dorden.total, 0, 'POINT',0, 'POINT'))}">
												</td>
												<td class="align-middle text-center" th:text="${dorden.cantidad}"></td>
												<td class="align-middle text-end">
													<a th:href="@{/delete/cart/{id} (id=${dorden.producto.id})}"
														class="btn btn-outline-danger btn-sm">
														<i class="bi bi-trash me-1"></i> Eliminar
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>

								<div class="d-flex justify-content-between mt-4">
									<a th:href="@{/}" class="btn btn-outline-secondary">
										<i class="bi bi-arrow-left me-2"></i> Continuar comprando
									</a>
									<a href="#" class="btn btn-outline-primary">
										<i class="bi bi-arrow-clockwise me-2"></i> Actualizar carrito
									</a>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-4">
						<div class="card shadow-sm">
							<div class="card-body">
								<h3 class="card-title mb-4">Resumen del pedido</h3>

								<div class="border-bottom pb-3 mb-3">
									<div class="d-flex justify-content-between mb-2">
										<span>Subtotal:</span>
										<span class="fw-semibold"
											th:text="${#strings.concat('$', #numbers.formatDecimal(orden.total, 0, 'POINT',0, 'POINT'))}"></span>
									</div>
									<div class="d-flex justify-content-between mb-2">
										<span>Envío:</span>
										<span class="text-success">Gratis</span>
									</div>
									<div class="d-flex justify-content-between mb-2">
										<span>Descuento:</span>
										<span class="text-danger">$0</span>
									</div>
								</div>

								<div class="d-flex justify-content-between mb-4">
									<h5>Total:</h5>
									<h5 class="text-primary"
										th:text="${#strings.concat('$', #numbers.formatDecimal(orden.total, 0, 'POINT',0, 'POINT'))}">
									</h5>
								</div>

								<a th:href="@{/order}" class="btn btn-danger w-100 py-2 mb-3">
									<i class="bi bi-credit-card me-2"></i> Proceder al pago
								</a>

								<div class="alert alert-light border mt-3">
									<div class="d-flex align-items-center">
										<i class="bi bi-shield-lock fs-4 me-3 text-primary"></i>
										<span class="small">Compra segura protegida por encriptación SSL</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section><!-- End Shopping Cart Section -->
	</main>

	<div th:insert="~{usuario/template_user.html::footer}"></div>

	<!-- Scroll Top -->
	<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
		<i class="bi bi-arrow-up-short"></i>
	</a>

	<!-- Preloader -->
	<div id="preloader"></div>

	<div th:insert="~{usuario/template_user.html::jsFiles}"></div>

</body>

</html>