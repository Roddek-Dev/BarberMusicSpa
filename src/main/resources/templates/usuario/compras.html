<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{usuario/template_user.html::head}">
	<title>Carrito de Compras | BarberMusicSpa</title>

</head>
<style>
	#main {
		margin-top: 4em;
	}

	section {
		padding: 60px 0 0 0;

	}
</style>

<body class="index-page">

	<div th:insert="~{usuario/template_user.html::header}" th:if="${sesion == null}"></div>
	<div th:insert="~{usuario/template_user.html::usuarioCabecera}" th:unless="${sesion == null}"></div>

	<main id="main">
		<!-- ======= Breadcrumbs ======= -->
		<div class="breadcrumbs">
			<div class="container">
				<h2>Carrito de Compras</h2>
				<ol class="breadcrumb">
					<li class="breadcrumb-item"><a th:href="@{/}">Inicio</a></li>
					<li class="breadcrumb-item active">Carrito</li>
				</ol>
			</div>
		</div><!-- End Breadcrumbs -->

		<!-- ======= Shopping Cart Section ======= -->
		<div class="inner-page">
			<div class="container" data-aos="fade-up">
				<div class="row">
					<div class="col-lg-8">
						<div class="card shadow-sm mb-4">
							<div class="card-body">
								<h3 class="card-title mb-4">Tus Productos</h3>

								<div class="table-responsive">
									<table class="table">
										<thead class="thead-light">
											<tr>
												<th scope="col" class="border-0">Producto</th>
												<th scope="col" class="border-0 text-end">Precio</th>
												<th scope="col" class="border-0 text-center">Cantidad</th>
												<th scope="col" class="border-0 text-end">Acciones</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="dorden:${cart}">
												<td class="border-0 align-middle" th:text="${dorden.nombre}"></td>
												<td class="border-0 align-middle text-end"
													th:text="${#strings.concat('$', #numbers.formatDecimal(dorden.total, 0, 'POINT',0, 'POINT'))}">
												</td>
												<td class="border-0 align-middle text-center"
													th:text="${dorden.cantidad}"></td>
												<td class="border-0 align-middle text-end">
													<a th:href="@{/delete/cart/{id} (id=${dorden.producto.id})}"
														class="btn btn-outline-danger btn-sm">
														<i class="bi bi-trash"></i> Eliminar
													</a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-4">
						<div class="card shadow-sm">
							<div class="card-body">
								<h3 class="card-title text-center mb-4">Resumen de Compra</h3>

								<ul class="list-group list-group-flush mb-4">
									<li
										class="list-group-item d-flex justify-content-between align-items-center border-0 px-0">
										<span class="fw-bold">Subtotal:</span>
										<span class="fw-bold"
											th:text="${#strings.concat('$', #numbers.formatDecimal(orden.total, 0, 'POINT',0, 'POINT'))}"></span>
									</li>
									<li
										class="list-group-item d-flex justify-content-between align-items-center border-0 px-0">
										<span>Env√≠o:</span>
										<span>Gratis</span>
									</li>
									<li
										class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
										<div>
											<strong>Total</strong>
										</div>
										<span><strong
												th:text="${#strings.concat('$', #numbers.formatDecimal(orden.total, 0, 'POINT',0, 'POINT'))}"></strong></span>
									</li>
								</ul>

								<a th:href="@{/order}" class="btn btn-danger w-100 py-3 mb-2">
									<i class="bi bi-credit-card-fill me-2"></i> Proceder al Pago
								</a>

								<a th:href="@{/}" class="btn btn-outline-secondary w-100 py-2">
									<i class="bi bi-arrow-left me-2"></i> Seguir Comprando
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div><!-- End Shopping Cart Section -->
	</main>

	<div th:insert="~{usuario/template_user.html::footer}"></div>

	<!-- Scroll Top -->
	<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
		<i class="bi bi-arrow-up-short"></i>
	</a>

	<!-- Preloader -->
	<div id="preloader"></div>

	<div th:insert="~{usuario/template_user.html::jsFiles}"></div>

</body>

</html>